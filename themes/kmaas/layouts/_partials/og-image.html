

{{ $title := .Title}}
{{ if .IsHome }}
    {{ $title = site.Title}}
{{ end }}
{{ $base := resources.Get "og_base.png" }}
{{ $titleFont := resources.Get "/fonts/Montserrat.ttf"}}
{{ $descriptionFont := resources.Get "/fonts/Roboto.ttf"}}
{{ $img := $base.Filter (images.Text $title (dict
    "color" "#ffffff"
    "size" 75
    "linespacing" 2
    "x" 115
    "y" 380
    "font" $titleFont
))}}
{{ $img = $img.Filter (images.Text .Description (dict
    "color" "#ffffff"
    "size" 32
    "linespacing" 2
    "x" 120
    "y" 500
    "font" $descriptionFont
))}} 
{{ $img = resources.Copy (path.Join "og-images/" .Page.RelPermalink "/og.png") $img }}
<meta property="og:image" content="{{$img.Permalink}}">
<meta property="og:image:width" content="{{$img.Width}}" />
<meta property="og:image:height" content="{{$img.Height}}" />

<!-- Twitter metadata (used by other websites as well) -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="{{ .Title }}" />
<meta name="twitter:description" content="{{ .Description }}"/>
<meta name="twitter:image" content="{{$img.Permalink}}" />
